<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kmerz.app.member">

<insert id="insertMember">
	insert into tbl_member(user_no, user_id, user_pw, user_name)
	values(seq_user_no.nextval, #{user_id}, #{user_pw}, #{user_name})
</insert>

<select id="selectAll" resultType="MemberVo">
	select * from tbl_member
</select>
<!-- id로 유저정보 찾기 -->
<select id="selectID" resultType="MemberVo">
	select * from tbl_member where user_id = #{user_id}
</select>

<!-- no로 유저정보 찾기 -->
<select id="selectNO" resultType="MemberVo">
	select * from tbl_member where user_no = #{user_no}
</select>

<!-- 로그인  -->
<select id="selectUser" resultType="MemberVo">
	select * from tbl_member where user_id = #{user_id} and user_pw = #{user_pw}
</select>

<!-- 닉네임 사용가능 여부 체크 -->
<select id="selectUserCount" resultType="int">
	select count(*) from tbl_member
	where user_name = #{user_name}
	and user_status = #{user_status}
</select>

<!-- 닉네임 변경 -->
<update id="updateUserName">
	update tbl_member set user_name = #{user_name}
	where user_no = #{user_no}
</update>

<!-- 비밀번호 변경 -->
<update id="updateUserPw">
	update tbl_member set user_pw = #{user_pw}
	where user_no = #{user_no}
</update>

</mapper>